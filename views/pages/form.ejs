<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head'); %>
  <body>
    <%- include('../partials/logo'); %>
    <form action="/form" method="post">
      <fieldset>
        <label>
          <input
            type="file"
            id="uploadImage"
            accept="image/*"
            onchange="PreviewImage()"
          />
          Add selca
        </label>
        <img id="uploadPreview" />
        <!-- Bron: https://stackoverflow.com/questions/18457340/how-to-preview-selected-image-in-input-type-file-in-popup-using-jquery -->
      </fieldset>

      <fieldset>
        <label for="name">Username</label>
        <input
          type="text"
          id="username"
          name="username"
          placeholder="Chingu..."
          value="<%= user[0].username %>"
        />
      </fieldset>

      <fieldset>
        <label for="location">Location</label>
        <input
          type="text"
          id="location"
          name="locaton"
          placeholder="Seoul..."
        />
        <!-- API location -->
      </fieldset>

      <fieldset>
        <label for="genre">Favorite genre?</label>
        <select id="genre" name="genre">
          <% genre.forEach(result=>{ %>
          <option value="genre"><%= result %></option>
          <% }); %>
        </select>
      </fieldset>

      <fieldset>
        <!-- Top 3 kdramas -->
        <label for="name">Favorite kdramas</label>
        <input type="checkbox" id="kdrama1" name="kdrama1" value="thod" />
        <label for="kdrama1"><%= kdramas[0].name %></label>

        <input type="checkbox" id="kdrama2" name="kdrama2" value="wwwsk" />
        <label for="kdrama2"><%= kdramas[1].name %></label>

        <input type="checkbox" id="kdrama3" name="kdrama3" value="days" />
        <label for="kdrama3"><%= kdramas[2].name %></label>
      </fieldset>

      <fieldset>
        <!-- Favorite people -->
        <label for="name">Favorite people</label>
      </fieldset>

      <input type="submit" value="Make a match" />
    </form>

    <!-- <article>
      <%# for (var form = 0; form < data.length; form++) { %>
      <h2><%#= data[form].title %></h2>
      <p><%#= data[form].story %></p>
      <%# } %>
    </article> -->

    <!-- Ends here -->

    <script src="js/visibility.js"></script>
    <script src="js/form.js"></script>
    <script>
      // Testen api location into form
      function getLocationConstant() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(onGeoSuccess, onGeoError);
        } else {
          alert("Your browser or device doesn't support Geolocation");
        }
      }

      // If we have a successful location update
      function onGeoSuccess(event) {
        document.getElementById("Latitude").value = event.coords.latitude;
        document.getElementById("Longitude").value = event.coords.longitude;
        document.getElementById("Position1").value =
          event.coords.latitude + ", " + event.coords.longitude;
      }

      // If something has gone wrong with the geolocation request
      function onGeoError(event) {
        alert("Error code " + event.code + ". " + event.message);
      }
    </script>
  </body>
</html>
